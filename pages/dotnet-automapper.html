<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Learn how YOU can convert your Objects between layers with Automapper, C#, .NET Core and VS Code</title>
    <meta name="description" content="[object Object]">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.ef35a4d2.css" as="style"><link rel="preload" href="/assets/js/app.db3c62db.js" as="script"><link rel="preload" href="/assets/js/9.454b5262.js" as="script"><link rel="preload" href="/assets/js/4.eac68367.js" as="script"><link rel="preload" href="/assets/js/143.3db9c299.js" as="script"><link rel="prefetch" href="/assets/js/1.36663999.js"><link rel="prefetch" href="/assets/js/10.dd884694.js"><link rel="prefetch" href="/assets/js/100.d350c93e.js"><link rel="prefetch" href="/assets/js/101.a0f346f6.js"><link rel="prefetch" href="/assets/js/102.5aee7553.js"><link rel="prefetch" href="/assets/js/103.cd40300c.js"><link rel="prefetch" href="/assets/js/104.3f860f10.js"><link rel="prefetch" href="/assets/js/105.f8ebea5d.js"><link rel="prefetch" href="/assets/js/106.84577e76.js"><link rel="prefetch" href="/assets/js/107.27ac0460.js"><link rel="prefetch" href="/assets/js/108.2615d80d.js"><link rel="prefetch" href="/assets/js/109.a0275c41.js"><link rel="prefetch" href="/assets/js/11.e44a9c79.js"><link rel="prefetch" href="/assets/js/110.e0b89e24.js"><link rel="prefetch" href="/assets/js/111.85c1f355.js"><link rel="prefetch" href="/assets/js/112.83b57936.js"><link rel="prefetch" href="/assets/js/113.30083b82.js"><link rel="prefetch" href="/assets/js/114.2dcc568f.js"><link rel="prefetch" href="/assets/js/115.2ee55351.js"><link rel="prefetch" href="/assets/js/116.7f8fe402.js"><link rel="prefetch" href="/assets/js/117.ca8b3931.js"><link rel="prefetch" href="/assets/js/118.8bd003cb.js"><link rel="prefetch" href="/assets/js/119.d1d06b3e.js"><link rel="prefetch" href="/assets/js/12.e184416b.js"><link rel="prefetch" href="/assets/js/120.dab30e46.js"><link rel="prefetch" href="/assets/js/121.9d3257d5.js"><link rel="prefetch" href="/assets/js/122.21f57fef.js"><link rel="prefetch" href="/assets/js/123.826f7c41.js"><link rel="prefetch" href="/assets/js/124.c134f35c.js"><link rel="prefetch" href="/assets/js/125.88e1d9ef.js"><link rel="prefetch" href="/assets/js/126.1d33b1c8.js"><link rel="prefetch" href="/assets/js/127.882b658e.js"><link rel="prefetch" href="/assets/js/128.4387dd5e.js"><link rel="prefetch" href="/assets/js/129.350431a1.js"><link rel="prefetch" href="/assets/js/13.215ad842.js"><link rel="prefetch" href="/assets/js/130.62aa76ba.js"><link rel="prefetch" href="/assets/js/131.4a9b4652.js"><link rel="prefetch" href="/assets/js/132.067ac058.js"><link rel="prefetch" href="/assets/js/133.f925bfac.js"><link rel="prefetch" href="/assets/js/134.4b3c8ed1.js"><link rel="prefetch" href="/assets/js/135.96f53f83.js"><link rel="prefetch" href="/assets/js/136.8bd779e9.js"><link rel="prefetch" href="/assets/js/137.71cefa4d.js"><link rel="prefetch" href="/assets/js/138.3cb402cc.js"><link rel="prefetch" href="/assets/js/139.0480e428.js"><link rel="prefetch" href="/assets/js/14.1a060010.js"><link rel="prefetch" href="/assets/js/140.afa32967.js"><link rel="prefetch" href="/assets/js/141.03aaff81.js"><link rel="prefetch" href="/assets/js/142.d2c0dd55.js"><link rel="prefetch" href="/assets/js/144.7775d6c9.js"><link rel="prefetch" href="/assets/js/145.750f54ca.js"><link rel="prefetch" href="/assets/js/146.ce90e1b5.js"><link rel="prefetch" href="/assets/js/147.bb809de9.js"><link rel="prefetch" href="/assets/js/148.9c076f3a.js"><link rel="prefetch" href="/assets/js/149.70062715.js"><link rel="prefetch" href="/assets/js/15.34674cd6.js"><link rel="prefetch" href="/assets/js/150.3eb04a33.js"><link rel="prefetch" href="/assets/js/151.9c7af9fc.js"><link rel="prefetch" href="/assets/js/152.86614e8d.js"><link rel="prefetch" href="/assets/js/153.96a63cd3.js"><link rel="prefetch" href="/assets/js/154.b3f1f8dc.js"><link rel="prefetch" href="/assets/js/155.856f98be.js"><link rel="prefetch" href="/assets/js/156.3b2b9b5f.js"><link rel="prefetch" href="/assets/js/157.71fb8687.js"><link rel="prefetch" href="/assets/js/158.516c87fc.js"><link rel="prefetch" href="/assets/js/159.52b7d653.js"><link rel="prefetch" href="/assets/js/16.119e91d4.js"><link rel="prefetch" href="/assets/js/160.9ab8d57c.js"><link rel="prefetch" href="/assets/js/161.8b79f713.js"><link rel="prefetch" href="/assets/js/162.f321f983.js"><link rel="prefetch" href="/assets/js/163.f427055c.js"><link rel="prefetch" href="/assets/js/164.011a4165.js"><link rel="prefetch" href="/assets/js/165.fb04e357.js"><link rel="prefetch" href="/assets/js/166.22aa118b.js"><link rel="prefetch" href="/assets/js/167.9b3a7654.js"><link rel="prefetch" href="/assets/js/168.809a29e6.js"><link rel="prefetch" href="/assets/js/169.5ad4e8f0.js"><link rel="prefetch" href="/assets/js/17.86bc7706.js"><link rel="prefetch" href="/assets/js/170.aec3fd57.js"><link rel="prefetch" href="/assets/js/171.32dbd986.js"><link rel="prefetch" href="/assets/js/172.601575f2.js"><link rel="prefetch" href="/assets/js/173.52dd154d.js"><link rel="prefetch" href="/assets/js/174.5ba6300a.js"><link rel="prefetch" href="/assets/js/175.2f89e69b.js"><link rel="prefetch" href="/assets/js/176.9dc0eac7.js"><link rel="prefetch" href="/assets/js/177.1c365624.js"><link rel="prefetch" href="/assets/js/178.91caba05.js"><link rel="prefetch" href="/assets/js/179.9c911a6e.js"><link rel="prefetch" href="/assets/js/18.cd87a72e.js"><link rel="prefetch" href="/assets/js/180.80655cbf.js"><link rel="prefetch" href="/assets/js/181.ed85d983.js"><link rel="prefetch" href="/assets/js/182.1e17fc78.js"><link rel="prefetch" href="/assets/js/183.02acffe6.js"><link rel="prefetch" href="/assets/js/184.9243297f.js"><link rel="prefetch" href="/assets/js/185.f8354684.js"><link rel="prefetch" href="/assets/js/186.d7462eed.js"><link rel="prefetch" href="/assets/js/187.26d2f0ca.js"><link rel="prefetch" href="/assets/js/188.5b1aa9be.js"><link rel="prefetch" href="/assets/js/189.d054804a.js"><link rel="prefetch" href="/assets/js/19.910fc8d0.js"><link rel="prefetch" href="/assets/js/190.c79e4c7b.js"><link rel="prefetch" href="/assets/js/191.190bbaf4.js"><link rel="prefetch" href="/assets/js/192.d0f08b9f.js"><link rel="prefetch" href="/assets/js/193.65076ebc.js"><link rel="prefetch" href="/assets/js/194.79a28f24.js"><link rel="prefetch" href="/assets/js/195.c3db4ae0.js"><link rel="prefetch" href="/assets/js/196.922f01f4.js"><link rel="prefetch" href="/assets/js/197.72fc5f68.js"><link rel="prefetch" href="/assets/js/198.3e9c7e4c.js"><link rel="prefetch" href="/assets/js/199.7c704dea.js"><link rel="prefetch" href="/assets/js/20.f2e93d17.js"><link rel="prefetch" href="/assets/js/200.8746331d.js"><link rel="prefetch" href="/assets/js/201.4698882a.js"><link rel="prefetch" href="/assets/js/202.0a8a7594.js"><link rel="prefetch" href="/assets/js/203.64f9b437.js"><link rel="prefetch" href="/assets/js/204.d6f38f7a.js"><link rel="prefetch" href="/assets/js/205.7866d898.js"><link rel="prefetch" href="/assets/js/206.9b24367e.js"><link rel="prefetch" href="/assets/js/207.2fb62ef6.js"><link rel="prefetch" href="/assets/js/208.8a29c442.js"><link rel="prefetch" href="/assets/js/21.8afea724.js"><link rel="prefetch" href="/assets/js/22.16b7f426.js"><link rel="prefetch" href="/assets/js/23.b4e38d6f.js"><link rel="prefetch" href="/assets/js/24.d54f4334.js"><link rel="prefetch" href="/assets/js/25.2d1f0877.js"><link rel="prefetch" href="/assets/js/26.d1bfb1b7.js"><link rel="prefetch" href="/assets/js/27.0610f28c.js"><link rel="prefetch" href="/assets/js/28.f1b496e3.js"><link rel="prefetch" href="/assets/js/29.08e9944c.js"><link rel="prefetch" href="/assets/js/3.970a66a4.js"><link rel="prefetch" href="/assets/js/30.ae297928.js"><link rel="prefetch" href="/assets/js/31.4fd0d93b.js"><link rel="prefetch" href="/assets/js/32.44966b63.js"><link rel="prefetch" href="/assets/js/33.eb167d44.js"><link rel="prefetch" href="/assets/js/34.295422ff.js"><link rel="prefetch" href="/assets/js/35.2c5a0b70.js"><link rel="prefetch" href="/assets/js/36.fddd48a5.js"><link rel="prefetch" href="/assets/js/37.367a54b5.js"><link rel="prefetch" href="/assets/js/38.77ea2014.js"><link rel="prefetch" href="/assets/js/39.18b0acf7.js"><link rel="prefetch" href="/assets/js/40.ee22aa00.js"><link rel="prefetch" href="/assets/js/41.8b43745c.js"><link rel="prefetch" href="/assets/js/42.66bb07f8.js"><link rel="prefetch" href="/assets/js/43.636bf8a8.js"><link rel="prefetch" href="/assets/js/44.b341b996.js"><link rel="prefetch" href="/assets/js/45.d885e19e.js"><link rel="prefetch" href="/assets/js/46.7e4d0e2f.js"><link rel="prefetch" href="/assets/js/47.3bc4cde3.js"><link rel="prefetch" href="/assets/js/48.4ee9fba2.js"><link rel="prefetch" href="/assets/js/49.14783870.js"><link rel="prefetch" href="/assets/js/5.d1da013e.js"><link rel="prefetch" href="/assets/js/50.13c266ab.js"><link rel="prefetch" href="/assets/js/51.4318da19.js"><link rel="prefetch" href="/assets/js/52.7c9cc18f.js"><link rel="prefetch" href="/assets/js/53.378b5732.js"><link rel="prefetch" href="/assets/js/54.e47e03a7.js"><link rel="prefetch" href="/assets/js/55.ee80e16b.js"><link rel="prefetch" href="/assets/js/56.e14027f4.js"><link rel="prefetch" href="/assets/js/57.b3cb8ffb.js"><link rel="prefetch" href="/assets/js/58.eb09f34e.js"><link rel="prefetch" href="/assets/js/59.a537c130.js"><link rel="prefetch" href="/assets/js/6.9bdf2d86.js"><link rel="prefetch" href="/assets/js/60.25c48265.js"><link rel="prefetch" href="/assets/js/61.8653aa8c.js"><link rel="prefetch" href="/assets/js/62.69bb406d.js"><link rel="prefetch" href="/assets/js/63.4e7c77ba.js"><link rel="prefetch" href="/assets/js/64.ecda83e6.js"><link rel="prefetch" href="/assets/js/65.55a0ff6e.js"><link rel="prefetch" href="/assets/js/66.ed942689.js"><link rel="prefetch" href="/assets/js/67.6f7c9f8c.js"><link rel="prefetch" href="/assets/js/68.006a7e36.js"><link rel="prefetch" href="/assets/js/69.574000ec.js"><link rel="prefetch" href="/assets/js/7.9ac2367b.js"><link rel="prefetch" href="/assets/js/70.e3b758e6.js"><link rel="prefetch" href="/assets/js/71.4d8bdcb1.js"><link rel="prefetch" href="/assets/js/72.c2526cec.js"><link rel="prefetch" href="/assets/js/73.d791feee.js"><link rel="prefetch" href="/assets/js/74.5973a4fb.js"><link rel="prefetch" href="/assets/js/75.69a97303.js"><link rel="prefetch" href="/assets/js/76.6241dd05.js"><link rel="prefetch" href="/assets/js/77.cc95848f.js"><link rel="prefetch" href="/assets/js/78.bf5853c2.js"><link rel="prefetch" href="/assets/js/79.6ca3cd68.js"><link rel="prefetch" href="/assets/js/8.6b13a443.js"><link rel="prefetch" href="/assets/js/80.db3dafc8.js"><link rel="prefetch" href="/assets/js/81.c48160c5.js"><link rel="prefetch" href="/assets/js/82.8c1c51fe.js"><link rel="prefetch" href="/assets/js/83.76256fe7.js"><link rel="prefetch" href="/assets/js/84.ba6c380e.js"><link rel="prefetch" href="/assets/js/85.71c3233e.js"><link rel="prefetch" href="/assets/js/86.fe0ed2a2.js"><link rel="prefetch" href="/assets/js/87.d7dca667.js"><link rel="prefetch" href="/assets/js/88.d7051ae9.js"><link rel="prefetch" href="/assets/js/89.ceed231e.js"><link rel="prefetch" href="/assets/js/90.cb5b9f7e.js"><link rel="prefetch" href="/assets/js/91.186b87b4.js"><link rel="prefetch" href="/assets/js/92.09574fb8.js"><link rel="prefetch" href="/assets/js/93.d159420a.js"><link rel="prefetch" href="/assets/js/94.59ad6229.js"><link rel="prefetch" href="/assets/js/95.06d1a88d.js"><link rel="prefetch" href="/assets/js/96.8ac1aaf0.js"><link rel="prefetch" href="/assets/js/97.b6ad2632.js"><link rel="prefetch" href="/assets/js/98.9157217b.js"><link rel="prefetch" href="/assets/js/99.c25b229f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ef35a4d2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Learn how YOU can convert your Objects between layers with Automapper, C#, .NET Core and VS Code</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/dotnet-automapper.html#references" class="sidebar-link">References</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/dotnet-automapper.html#why" class="sidebar-link">WHY</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/dotnet-automapper.html#what" class="sidebar-link">WHAT</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/dotnet-automapper.html#demo" class="sidebar-link">DEMO</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-automapper.html#install-and-set-up" class="sidebar-link">Install and Set up</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-automapper.html#configuration" class="sidebar-link">Configuration</a></li></ul></li><li><a href="/pages/dotnet-automapper.html#basic-scenario" class="sidebar-link">Basic scenario</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-automapper.html#figure-out-the-difference" class="sidebar-link">Figure out the difference</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-automapper.html#encode-the-difference" class="sidebar-link">Encode the difference</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-automapper.html#ensure-it-works" class="sidebar-link">Ensure it works</a></li></ul></li><li><a href="/pages/dotnet-automapper.html#complex-scenarios" class="sidebar-link">Complex scenarios</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-automapper.html#configure" class="sidebar-link">Configure</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-automapper.html#test-it-out" class="sidebar-link">Test it out</a></li></ul></li><li><a href="/pages/dotnet-automapper.html#additional-defaults" class="sidebar-link">Additional defaults</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-automapper.html#reverse-mapping" class="sidebar-link">Reverse Mapping</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-automapper.html#method-resolver" class="sidebar-link">Method resolver</a></li></ul></li><li><a href="/pages/dotnet-automapper.html#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="learn-how-you-can-convert-your-objects-between-layers-with-automapper-c-net-core-and-vs-code"><a href="#learn-how-you-can-convert-your-objects-between-layers-with-automapper-c-net-core-and-vs-code" aria-hidden="true" class="header-anchor">#</a> Learn how YOU can convert your Objects between layers with Automapper, C#, .NET Core and VS Code</h1> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/i3fvls3dore1w4kszrig.jpg" alt=""></p> <blockquote><p>When we read/write data we need to transport our information from one layer to the next. Our medium of transportation is usually by storing our data in a POCO a plain old C# object. However, how this object looks like it might differ between layers. In the top layer, we might have a view model. In a domain layer, the data might have been altered to represent what the object might look like in a domain. In our data layer, it might be changed yet again to be easily inserted into a data storage like a DB. The point is - changing this object as it passes through the layer is a cumbersome, boring and time-consuming process. Surely there must be a better way? There is, with a library called Auto mapper.</p></blockquote> <p>TLDR; this article will focus on teaching the use of the library AutoMapper. AutoMapper is a whole host of supporting libraries so we have chosen a specific approach, namely to use the version of AutoMapper that uses Dependency Injection.</p> <p>You can find a fully working repo here</p> <blockquote><p>https://github.com/softchris/automapper-demo/tree/master</p></blockquote> <h2 id="references"><a href="#references" aria-hidden="true" class="header-anchor">#</a> References</h2> <ul><li><p><a href="https://code-maze.com/automapper-net-core/" target="_blank" rel="noopener noreferrer">Good blog post on AutoMapper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
A quite good article that captures the important aspects of the library.</p></li> <li><p><a href="https://docs.automapper.org/en/stable/Getting-started.html" target="_blank" rel="noopener noreferrer">Official docs for AutoMapper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
Official documentation</p></li> <li><p><a href="https://github.com/AutoMapper/AutoMapper" target="_blank" rel="noopener noreferrer">GitHub repo for AutoMapper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
The official GitHub repo</p></li> <li><p><a href="https://docs.microsoft.com/en-us/dotnet/?wt.mc_id=academic-0000-chnoring" target="_blank" rel="noopener noreferrer">Docs pages for .NET<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
If you are completely new to .NET, have a look here.</p></li> <li><p><a href="https://docs.microsoft.com/en-us/dotnet/core/get-started?tabs=linux&amp;wt.mc_id=academic-0000-chnoring" target="_blank" rel="noopener noreferrer">Getting started with .NET Core<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
Good intro to .NET Core.</p></li></ul> <h2 id="why"><a href="#why" aria-hidden="true" class="header-anchor">#</a> WHY</h2> <p>As we mentioned initially our data needs to move from layer to layer. Changing the data we pass should be an automated process. We don't really have any flow control logic, we just need to map one or several columns to a new set of columns. As our application grows we get more and more of these models. Automate this now before you spend way too much time on this versus actual business logic. 😃</p> <h2 id="what"><a href="#what" aria-hidden="true" class="header-anchor">#</a> WHAT</h2> <p>So what can AutoMapper do for us?</p> <ol><li><strong>Map</strong> from one type of object to another type</li> <li><strong>Handle Complex differences</strong>, sometimes we have cases that are more advanced than others. It might not be as simple as just a 1-1 replacement. We need to be able to handle 1-N changes too and AutoMapper can help us with that</li> <li><strong>Default scenarios</strong>, AutoMapper has some sensible defaults built-in which we can use to resolve certain 1-N cases</li></ol> <h2 id="demo"><a href="#demo" aria-hidden="true" class="header-anchor">#</a> DEMO</h2> <p>So what will we show?</p> <ol><li><strong>Install and Set up</strong>, let's look at how to get started by installing the needed libraries</li> <li><strong>Configuration</strong>, after install let's see how we instruct AutoMapper. Here we will show to use Profiles to tell AutoMapper what objects can be converted to what other objects.</li> <li><strong>Basic scenario</strong>, let's look at a basic scenario in which we transform from one type</li> <li><strong>Advanced scenarios</strong>, Let's cover some more advanced scenarios including 1-N and defaults</li></ol> <h3 id="install-and-set-up"><a href="#install-and-set-up" aria-hidden="true" class="header-anchor">#</a> Install and Set up</h3> <p>Solution and project</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet new sln
dotnet new webapi -o api
dotnet sln add api/api.csproj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Install NuGet package</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet add api package AutoMapper.Extensions.Microsoft.DependencyInjection
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="configuration"><a href="#configuration" aria-hidden="true" class="header-anchor">#</a> Configuration</h3> <p>First we need to add this line too <code>Startup.cs</code> and the method <code>ConfigureServices()</code>:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>services<span class="token punctuation">.</span><span class="token function">AddAutoMapper</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>Startup<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Once you have that in place it's time to figure out how to map different classes to each other. For that, we will use a concept called <code>Profiles</code>. In the past, you would have one file where you entered all the mappings. While this works it might not make sense.</p> <blockquote><p>Wouldn't it be better if we could enter the mapping configuration closer to where it's used?</p></blockquote> <p>Of course, it would. We call this way of organizing our code to organize by topic or domain. Let me show you an example:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/User
  UserController.cs
  UserModel.cs
  UserProfile.cs
  UserViewModel.cs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Whether you want to organize your code this way or not the concept <code>Profiles</code> means we created dedicated mapping classes for our mapping configuration. So let's take a look at how we can create one of those. First, let's think out a domain. We usually need the concept <code>User</code> as our app usually have users using it. So let's create the file <code>UserProfile.cs</code> and give it the following content:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">// UserProfile.cs</span>

<span class="token keyword">using</span> AutoMapper<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Profiles 
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserProfile</span><span class="token punctuation">:</span> <span class="token class-name">Profile</span> 
  <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token function">UserProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token generic-method"><span class="token function">CreateMap</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token class-name">UserViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>Above we are inheriting from the base class <code>Profile</code> and in the constructor, we set up our mapping:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token generic-method"><span class="token function">CreateMap</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token class-name">UserViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>How shall we interpret the above though?</p></blockquote> <p>Well, it's 50/50 right? 😉 Jokes aside. What we mean by the above is that given a <code>User</code> object, how do we create a <code>UserViewModel</code> object from it. This means we have set it up in one direction.</p> <blockquote><p>What about the other direction?</p></blockquote> <p>I knew you'd ask that 😃</p> <p>There are actually a few choices there depending on how each class looks, or rather how <em>compatible</em> they are.</p> <p>Let's look at some different scenarios so you see how this affects the configuration.</p> <h2 id="basic-scenario"><a href="#basic-scenario" aria-hidden="true" class="header-anchor">#</a> Basic scenario</h2> <p>In this basic scenario owe want to convert between a ViewModel and a Model in our service layer. We have a class <code>UserViewModel</code> and a class <code>UserModel</code>. Let's have a look at the code for each:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">// UserViewModel.cs</span>

<span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Models 
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserViewModel</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> FullName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>now the <code>UserModel</code>:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Models 
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserModel</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> FirstName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> LastName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Looking at the above we can see that there are similarities <code>Id</code> but also differences <code>FullName</code> vs <code>FirstName</code> and <code>LastName</code>. We need to do the following:</p> <ul><li><strong>Figure out</strong> the difference between the two classes</li> <li><strong>Encode</strong> the difference as a configuration in a profile class</li> <li><strong>Ensure</strong> it works</li></ul> <h3 id="figure-out-the-difference"><a href="#figure-out-the-difference" aria-hidden="true" class="header-anchor">#</a> Figure out the difference</h3> <p>We deduce that a <code>FullName</code> is the same thing as <code>FirstName</code> + <code>LastName</code>. This might not always be so easy to figure but in this case it seemed quite simple.</p> <h3 id="encode-the-difference"><a href="#encode-the-difference" aria-hidden="true" class="header-anchor">#</a> Encode the difference</h3> <p>At this point, we are ready to encode this in mapper configuration. So we create a file <code>UserProfile.cs</code> and give it the following content:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> AutoMapper<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Models 
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserProfile</span><span class="token punctuation">:</span> <span class="token class-name">Profile</span> 
  <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token function">UserProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token generic-method"><span class="token function">CreateMap</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token class-name">UserViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>What we are saying is, given a <code>User</code> we can create a <code>UserViewModel</code>.</p> <blockquote><p>But wait, we are not done. The field names don't match. This won't work or?</p></blockquote> <p>Yes you are correct, we need to update our code above to use the helper method <code>ForMember()</code>, like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token generic-method"><span class="token function">CreateMap</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token class-name">UserViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">ForMember</span><span class="token punctuation">(</span>dest <span class="token operator">=&gt;</span> dest<span class="token punctuation">.</span>FullName<span class="token punctuation">,</span> opt <span class="token operator">=&gt;</span> opt<span class="token punctuation">.</span><span class="token function">MapFrom</span><span class="token punctuation">(</span>src <span class="token operator">=&gt;</span> src<span class="token punctuation">.</span>FirstName <span class="token operator">+</span> src<span class="token punctuation">.</span>LastName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Here we are saying, given the field <code>FullName</code>, construct it given <code>FirstName</code> + <code>LastName</code>.</p> <h3 id="ensure-it-works"><a href="#ensure-it-works" aria-hidden="true" class="header-anchor">#</a> Ensure it works</h3> <p>How do we know it works? Well, we have chosen to create a Web API project so let's create a route where we can test it out.</p> <p>Create the file <code>UserController.cs</code> and give it the following content:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">// UserController.cs</span>

<span class="token keyword">using</span> AutoMapper<span class="token punctuation">;</span>
<span class="token keyword">using</span> api<span class="token punctuation">.</span>Models<span class="token punctuation">;</span>

<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Mvc<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Controllers 
<span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token class-name">ApiController</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token class-name">Route</span><span class="token punctuation">(</span><span class="token string">&quot;[controller]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> 
  <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">IMapper</span> _mapper<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">UserController</span><span class="token punctuation">(</span><span class="token class-name">IMapper</span> mapper<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _mapper <span class="token operator">=</span> mapper<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token punctuation">[</span><span class="token class-name">Route</span><span class="token punctuation">(</span><span class="token string">&quot;/[controller]/[action]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
      <span class="token keyword">var</span> result <span class="token operator">=</span> _mapper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">UserViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> FirstName<span class="token operator">=</span><span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> LastName<span class="token operator">=</span><span class="token string">&quot;Noring&quot;</span><span class="token punctuation">,</span> Id <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> result<span class="token punctuation">.</span>FullName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>Above we have two things of interest.</p> <ol><li><strong>The constructor</strong>, here we can see that we have injected an instance of <code>IMapper</code> called <code>mapper</code>.</li></ol> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">private</span> <span class="token class-name">IMapper</span> _mapper<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token function">DataController</span><span class="token punctuation">(</span><span class="token class-name">IMapper</span> mapper<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  _mapper <span class="token operator">=</span> mapper<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li><strong>Controller action</strong>, here we are setting up our route to listen to <code>controller/action</code> which means the name of the Controller class and the name of the method. Because our controller is called <code>UserController</code> that means the route is <code>&lt;baseUrl/&gt;user/get</code>.</li></ol> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token class-name">Route</span><span class="token punctuation">(</span><span class="token string">&quot;/[controller]/[action]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> _mapper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">UserViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> FirstName<span class="token operator">=</span><span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> LastName<span class="token operator">=</span><span class="token string">&quot;Noring&quot;</span><span class="token punctuation">,</span> Id <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">.</span>FullName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Ok, let's try to run this with:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet build
dotnet run
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>We should get the following:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/35a52xbx2o4l857hrk8n.png" alt=""></p> <p>As you can see we are able to hit our route <code>https://localhost:5001/user/get</code> and it hits the correct class and method above. We can also see that our <code>_mapper</code> is able to resolve the <code>User</code> object we pass it and turn that into a ViewModel.</p> <blockquote><p>It should be said though in a more realistic example we would probably fetch our <code>User</code> object using a service and then convert it into a ViewModel like the below code:</p></blockquote> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> user <span class="token operator">=</span> _userService<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> viewModel <span class="token operator">=</span> _mapper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">UserViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="complex-scenarios"><a href="#complex-scenarios" aria-hidden="true" class="header-anchor">#</a> Complex scenarios</h2> <p>Ok, we understand a basic scenario. What's a more complex scenario? Well, we might have nested classes where you have a class in a class like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">Customer</span> Customer <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">DateTime</span> Created <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Above we have <code>Customer</code> being a part of <code>Order</code>.</p> <p>The target class might look like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderViewModel</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">string</span> CustomerName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">DateTime</span> Created <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The above actually works without any specific mapping rules?</p> <blockquote><p>How is that possible?</p></blockquote> <p>Well, it depends on the shape <code>Customer</code>. <code>Customer</code> in this case just looks like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> 
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">string</span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>AutoMapper is by default able to solve nesting like this as long as the name matches so <code>Customer -&gt; Name</code> can be seen as <code>CustomerName</code>, quite powerful.</p> <h3 id="configure"><a href="#configure" aria-hidden="true" class="header-anchor">#</a> Configure</h3> <p>You shouldn't take my word for it, so let me show you. We will need to do the following:</p> <ul><li><strong>Configure our mapping</strong>, we do this by creating a class <code>OrderProfile</code></li> <li><strong>Create our model and view model</strong>, we've already mentioned <code>Order</code> and <code>OrderViewModel</code>, we need to create those.</li> <li><strong>Add a router class</strong>, we need to create the class <code>OrderController</code></li></ul> <p><strong>Configure our mapping</strong></p> <p>Let's create our <code>OrderProfile</code> class. Start by creating the <code>OrderProfile.cs</code> and give it the following content:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> AutoMapper<span class="token punctuation">;</span>
<span class="token keyword">using</span> api<span class="token punctuation">.</span>Models<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Profiles <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderProfile</span><span class="token punctuation">:</span> <span class="token class-name">Profile</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">IMapper</span> _mapper<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">OrderProfile</span><span class="token punctuation">(</span><span class="token class-name">IMapper</span> mapper<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      _mapper <span class="token operator">=</span> mapper<span class="token punctuation">;</span>
      <span class="token generic-method"><span class="token function">CreateMap</span><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">,</span> <span class="token class-name">OrderViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>Above we are setting up a simple mapping:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token generic-method"><span class="token function">CreateMap</span><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">,</span> <span class="token class-name">OrderViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Create our model and view model</strong></p> <p>Next let's create first our three model classes <code>Customer</code>, <code>Order</code> and <code>OrderViewModel</code>, like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">// Customer.cs</span>

<span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Models
  <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">public</span> <span class="token keyword">string</span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">// Order.cs</span>

<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Models
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Customer</span> Customer <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">DateTime</span> Created <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>and lastly <code>OrderViewModel</code>:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">// OrderViewModel.cs</span>

<span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Models
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderViewModel</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> CustomerName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>Add a router class</strong></p> <p>Create a file <code>OrderController.cs</code> with the following content:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> AutoMapper<span class="token punctuation">;</span>
<span class="token keyword">using</span> api<span class="token punctuation">.</span>Models<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Mvc<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Controllers
<span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token class-name">ApiController</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token class-name">Route</span><span class="token punctuation">(</span><span class="token string">&quot;[controller]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">IMapper</span> _mapper<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">OrderController</span><span class="token punctuation">(</span><span class="token class-name">IMapper</span> mapper<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      _mapper <span class="token operator">=</span> mapper<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token class-name">Route</span><span class="token punctuation">(</span><span class="token string">&quot;/[controller]/[action]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">var</span> orderViewModel <span class="token operator">=</span> _mapper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">OrderViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span> 
        Customer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
        Created <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now 
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> orderViewModel<span class="token punctuation">.</span>CustomerName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>Above we are constructing <code>orderViewModel</code> by passing it an <code>Order</code> instance.</p> <h3 id="test-it-out"><a href="#test-it-out" aria-hidden="true" class="header-anchor">#</a> Test it out</h3> <p>Running it, we get the following result:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/8e8r5uh5sij3bcpapamp.png" alt=""></p> <p>As you can see above, this just works. It's able to take our <code>Order</code> class drill down into <code>Order-&gt;Customer-&gt;Name</code> and turn that into <code>CustomerName</code>.</p> <h2 id="additional-defaults"><a href="#additional-defaults" aria-hidden="true" class="header-anchor">#</a> Additional defaults</h2> <p>There are two additional defaults I wanted to show before wrapping up this article namely:</p> <ul><li><strong>Reverse mapping</strong>, normally when we set up mappings we need to specify mapping in both directions, from model to view model and from the view model to model. If we have a case like the above we can actually use a method <code>ReverseMap()</code> that automatically adds configuration for mapping in the other direction</li> <li><strong>Method resolver</strong>, if we add methods to our class that name wise somewhat matches a field on the destination class then it will be invoked and will help us resolve our mapping</li></ul> <h3 id="reverse-mapping"><a href="#reverse-mapping" aria-hidden="true" class="header-anchor">#</a> Reverse Mapping</h3> <p>Given the code from our complex case let's use the <code>ReverseMap()</code> method on our <code>Order</code> configuration. Let's open the file <code>OrderProfile.cs</code> and change the code to the following:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token generic-method"><span class="token function">CreateMap</span><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">,</span> <span class="token class-name">OrderViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">ReverseMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Now open <code>OrderController.cs</code> and ensure the <code>Get()</code> method has the following code:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> orderViewModel <span class="token operator">=</span> _mapper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">OrderViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span> 
  Customer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  Created <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> order <span class="token operator">=</span> _mapper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>orderViewModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> order<span class="token punctuation">.</span>Customer<span class="token punctuation">.</span>Name<span class="token punctuation">;</span>

<span class="token keyword">return</span> orderViewModel<span class="token punctuation">.</span>CustomerName<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Above we have added the row:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> order <span class="token operator">=</span> _mapper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>orderViewModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> order<span class="token punctuation">.</span>Customer<span class="token punctuation">.</span>Name<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>This converts our view model back to a model.</p> <h3 id="method-resolver"><a href="#method-resolver" aria-hidden="true" class="header-anchor">#</a> Method resolver</h3> <p>This is not the only default that works out of the box. We can help with the conversion of one object to another by adding helper methods. to the source object.</p> <blockquote><p>That sounds a bit cryptic, can you elaborate?</p></blockquote> <p>Sure. Say you have a <code>User</code> class with fields <code>FirstName</code> and <code>LastName</code>. Let's also say we have <code>UserViewModel</code> with a <code>Fullname</code> field. How would we resolve that in a conversion? Your first go-to is probably to set up a config for this using the method <code>ForMember</code>. There is another way though, using a method. By adding the following method to the <code>User</code> class:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetFullname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;{0} {1}&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>FirstName<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>LastName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>We now have a way to <em>map</em> <code>FirstName</code> + <code>LastName</code> to a field <code>FullName</code>. Just think of the syntax is this way <code>Get&lt;Fieldname&gt;()</code>.</p> <p><strong>A second example</strong></p> <p>This is powerful. Let's have a look at a new example. Imagine we have a <code>Location</code> class and a <code>LocationViewModel</code> class. <code>Location</code> looks like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Models 
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Location</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Street <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>      
    <span class="token keyword">public</span> <span class="token keyword">string</span> City <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Country  <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>by adding a method <code>GetLocation()</code> looking like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;{0} {1} {2}&quot;</span><span class="token punctuation">,</span> Country<span class="token punctuation">,</span> City<span class="token punctuation">,</span> Street<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>we don't actually have to define this mapping with the <code>MemberFor()</code> method.</p> <p>What's really useful is that we can use the same approach to convert a <code>LocationViewModel</code> to a <code>Location</code> object by adding similar methods to <code>LocationViewModel</code>. Change <code>LocationViewModel.cs</code> to the following:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">namespace</span> api<span class="token punctuation">.</span>Models
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LocationViewModel</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Location <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetCountry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Location<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Location<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetStreet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Location<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>Just like with our <code>User</code>/ <code>UserViewModel</code> scenario we can now write code like this, to convert a <code>Location</code> to a <code>LocationViewModel</code> and back again:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> locationViewmodel <span class="token operator">=</span> _mapper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">LocationViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Location</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  Street <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span> 
  City<span class="token operator">=</span> <span class="token string">&quot;Sthlm&quot;</span><span class="token punctuation">,</span> 
  Country <span class="token operator">=</span> <span class="token string">&quot;Sweden&quot;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> location <span class="token operator">=</span> _mapper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">Location</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LocationViewModel</span><span class="token punctuation">{</span>   
  Location <span class="token operator">=</span> <span class="token string">&quot;Country City Street&quot;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>NOTE, Because we added methods on the <code>LocationViewModel</code> class, that we expect to be used converting from it to <code>Location</code> object - we need to add the <code>ReverseMap()</code> call to our <code>LocationProfile</code> configuration.</p></blockquote> <p>There is a more to learn about <code>AutoMapper</code> but hopefully, you've got a good idea of what to use it for and how it can help you and you can get started. Please check the reference section for more details.</p> <h2 id="summary"><a href="#summary" aria-hidden="true" class="header-anchor">#</a> Summary</h2> <p>So what did we learn? We learned that AutoMapper is a great library to convert between different types of objects. Additionally, we learned that we can spread out the configuration in different <code>Profiles</code> to make our code easier to maintain.
Lastly, we've learned that AutoMapper comes with a lot of smart defaults that means we barely need to config if we name our fields in a clever way or add a helper method.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.db3c62db.js" defer></script><script src="/assets/js/9.454b5262.js" defer></script><script src="/assets/js/4.eac68367.js" defer></script><script src="/assets/js/143.3db9c299.js" defer></script>
  </body>
</html>
