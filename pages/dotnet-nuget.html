<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How YOU can create reusable packages for .NET Core using VS Code, C# and NuGet</title>
    <meta name="description" content="[object Object]">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.ef35a4d2.css" as="style"><link rel="preload" href="/assets/js/app.db3c62db.js" as="script"><link rel="preload" href="/assets/js/9.454b5262.js" as="script"><link rel="preload" href="/assets/js/4.eac68367.js" as="script"><link rel="preload" href="/assets/js/159.52b7d653.js" as="script"><link rel="prefetch" href="/assets/js/1.36663999.js"><link rel="prefetch" href="/assets/js/10.dd884694.js"><link rel="prefetch" href="/assets/js/100.d350c93e.js"><link rel="prefetch" href="/assets/js/101.a0f346f6.js"><link rel="prefetch" href="/assets/js/102.5aee7553.js"><link rel="prefetch" href="/assets/js/103.cd40300c.js"><link rel="prefetch" href="/assets/js/104.3f860f10.js"><link rel="prefetch" href="/assets/js/105.f8ebea5d.js"><link rel="prefetch" href="/assets/js/106.84577e76.js"><link rel="prefetch" href="/assets/js/107.27ac0460.js"><link rel="prefetch" href="/assets/js/108.2615d80d.js"><link rel="prefetch" href="/assets/js/109.a0275c41.js"><link rel="prefetch" href="/assets/js/11.e44a9c79.js"><link rel="prefetch" href="/assets/js/110.e0b89e24.js"><link rel="prefetch" href="/assets/js/111.85c1f355.js"><link rel="prefetch" href="/assets/js/112.83b57936.js"><link rel="prefetch" href="/assets/js/113.30083b82.js"><link rel="prefetch" href="/assets/js/114.2dcc568f.js"><link rel="prefetch" href="/assets/js/115.2ee55351.js"><link rel="prefetch" href="/assets/js/116.7f8fe402.js"><link rel="prefetch" href="/assets/js/117.ca8b3931.js"><link rel="prefetch" href="/assets/js/118.8bd003cb.js"><link rel="prefetch" href="/assets/js/119.d1d06b3e.js"><link rel="prefetch" href="/assets/js/12.e184416b.js"><link rel="prefetch" href="/assets/js/120.dab30e46.js"><link rel="prefetch" href="/assets/js/121.9d3257d5.js"><link rel="prefetch" href="/assets/js/122.21f57fef.js"><link rel="prefetch" href="/assets/js/123.826f7c41.js"><link rel="prefetch" href="/assets/js/124.c134f35c.js"><link rel="prefetch" href="/assets/js/125.88e1d9ef.js"><link rel="prefetch" href="/assets/js/126.1d33b1c8.js"><link rel="prefetch" href="/assets/js/127.882b658e.js"><link rel="prefetch" href="/assets/js/128.4387dd5e.js"><link rel="prefetch" href="/assets/js/129.350431a1.js"><link rel="prefetch" href="/assets/js/13.215ad842.js"><link rel="prefetch" href="/assets/js/130.62aa76ba.js"><link rel="prefetch" href="/assets/js/131.4a9b4652.js"><link rel="prefetch" href="/assets/js/132.067ac058.js"><link rel="prefetch" href="/assets/js/133.f925bfac.js"><link rel="prefetch" href="/assets/js/134.4b3c8ed1.js"><link rel="prefetch" href="/assets/js/135.96f53f83.js"><link rel="prefetch" href="/assets/js/136.8bd779e9.js"><link rel="prefetch" href="/assets/js/137.71cefa4d.js"><link rel="prefetch" href="/assets/js/138.3cb402cc.js"><link rel="prefetch" href="/assets/js/139.0480e428.js"><link rel="prefetch" href="/assets/js/14.1a060010.js"><link rel="prefetch" href="/assets/js/140.afa32967.js"><link rel="prefetch" href="/assets/js/141.03aaff81.js"><link rel="prefetch" href="/assets/js/142.d2c0dd55.js"><link rel="prefetch" href="/assets/js/143.3db9c299.js"><link rel="prefetch" href="/assets/js/144.7775d6c9.js"><link rel="prefetch" href="/assets/js/145.750f54ca.js"><link rel="prefetch" href="/assets/js/146.ce90e1b5.js"><link rel="prefetch" href="/assets/js/147.bb809de9.js"><link rel="prefetch" href="/assets/js/148.9c076f3a.js"><link rel="prefetch" href="/assets/js/149.70062715.js"><link rel="prefetch" href="/assets/js/15.34674cd6.js"><link rel="prefetch" href="/assets/js/150.3eb04a33.js"><link rel="prefetch" href="/assets/js/151.9c7af9fc.js"><link rel="prefetch" href="/assets/js/152.86614e8d.js"><link rel="prefetch" href="/assets/js/153.96a63cd3.js"><link rel="prefetch" href="/assets/js/154.b3f1f8dc.js"><link rel="prefetch" href="/assets/js/155.856f98be.js"><link rel="prefetch" href="/assets/js/156.3b2b9b5f.js"><link rel="prefetch" href="/assets/js/157.71fb8687.js"><link rel="prefetch" href="/assets/js/158.516c87fc.js"><link rel="prefetch" href="/assets/js/16.119e91d4.js"><link rel="prefetch" href="/assets/js/160.9ab8d57c.js"><link rel="prefetch" href="/assets/js/161.8b79f713.js"><link rel="prefetch" href="/assets/js/162.f321f983.js"><link rel="prefetch" href="/assets/js/163.f427055c.js"><link rel="prefetch" href="/assets/js/164.011a4165.js"><link rel="prefetch" href="/assets/js/165.fb04e357.js"><link rel="prefetch" href="/assets/js/166.22aa118b.js"><link rel="prefetch" href="/assets/js/167.9b3a7654.js"><link rel="prefetch" href="/assets/js/168.809a29e6.js"><link rel="prefetch" href="/assets/js/169.5ad4e8f0.js"><link rel="prefetch" href="/assets/js/17.86bc7706.js"><link rel="prefetch" href="/assets/js/170.aec3fd57.js"><link rel="prefetch" href="/assets/js/171.32dbd986.js"><link rel="prefetch" href="/assets/js/172.601575f2.js"><link rel="prefetch" href="/assets/js/173.52dd154d.js"><link rel="prefetch" href="/assets/js/174.5ba6300a.js"><link rel="prefetch" href="/assets/js/175.2f89e69b.js"><link rel="prefetch" href="/assets/js/176.9dc0eac7.js"><link rel="prefetch" href="/assets/js/177.1c365624.js"><link rel="prefetch" href="/assets/js/178.91caba05.js"><link rel="prefetch" href="/assets/js/179.9c911a6e.js"><link rel="prefetch" href="/assets/js/18.cd87a72e.js"><link rel="prefetch" href="/assets/js/180.80655cbf.js"><link rel="prefetch" href="/assets/js/181.ed85d983.js"><link rel="prefetch" href="/assets/js/182.1e17fc78.js"><link rel="prefetch" href="/assets/js/183.02acffe6.js"><link rel="prefetch" href="/assets/js/184.9243297f.js"><link rel="prefetch" href="/assets/js/185.f8354684.js"><link rel="prefetch" href="/assets/js/186.d7462eed.js"><link rel="prefetch" href="/assets/js/187.26d2f0ca.js"><link rel="prefetch" href="/assets/js/188.5b1aa9be.js"><link rel="prefetch" href="/assets/js/189.d054804a.js"><link rel="prefetch" href="/assets/js/19.910fc8d0.js"><link rel="prefetch" href="/assets/js/190.c79e4c7b.js"><link rel="prefetch" href="/assets/js/191.190bbaf4.js"><link rel="prefetch" href="/assets/js/192.d0f08b9f.js"><link rel="prefetch" href="/assets/js/193.65076ebc.js"><link rel="prefetch" href="/assets/js/194.79a28f24.js"><link rel="prefetch" href="/assets/js/195.c3db4ae0.js"><link rel="prefetch" href="/assets/js/196.922f01f4.js"><link rel="prefetch" href="/assets/js/197.72fc5f68.js"><link rel="prefetch" href="/assets/js/198.3e9c7e4c.js"><link rel="prefetch" href="/assets/js/199.7c704dea.js"><link rel="prefetch" href="/assets/js/20.f2e93d17.js"><link rel="prefetch" href="/assets/js/200.8746331d.js"><link rel="prefetch" href="/assets/js/201.4698882a.js"><link rel="prefetch" href="/assets/js/202.0a8a7594.js"><link rel="prefetch" href="/assets/js/203.64f9b437.js"><link rel="prefetch" href="/assets/js/204.d6f38f7a.js"><link rel="prefetch" href="/assets/js/205.7866d898.js"><link rel="prefetch" href="/assets/js/206.9b24367e.js"><link rel="prefetch" href="/assets/js/207.2fb62ef6.js"><link rel="prefetch" href="/assets/js/208.8a29c442.js"><link rel="prefetch" href="/assets/js/21.8afea724.js"><link rel="prefetch" href="/assets/js/22.16b7f426.js"><link rel="prefetch" href="/assets/js/23.b4e38d6f.js"><link rel="prefetch" href="/assets/js/24.d54f4334.js"><link rel="prefetch" href="/assets/js/25.2d1f0877.js"><link rel="prefetch" href="/assets/js/26.d1bfb1b7.js"><link rel="prefetch" href="/assets/js/27.0610f28c.js"><link rel="prefetch" href="/assets/js/28.f1b496e3.js"><link rel="prefetch" href="/assets/js/29.08e9944c.js"><link rel="prefetch" href="/assets/js/3.970a66a4.js"><link rel="prefetch" href="/assets/js/30.ae297928.js"><link rel="prefetch" href="/assets/js/31.4fd0d93b.js"><link rel="prefetch" href="/assets/js/32.44966b63.js"><link rel="prefetch" href="/assets/js/33.eb167d44.js"><link rel="prefetch" href="/assets/js/34.295422ff.js"><link rel="prefetch" href="/assets/js/35.2c5a0b70.js"><link rel="prefetch" href="/assets/js/36.fddd48a5.js"><link rel="prefetch" href="/assets/js/37.367a54b5.js"><link rel="prefetch" href="/assets/js/38.77ea2014.js"><link rel="prefetch" href="/assets/js/39.18b0acf7.js"><link rel="prefetch" href="/assets/js/40.ee22aa00.js"><link rel="prefetch" href="/assets/js/41.8b43745c.js"><link rel="prefetch" href="/assets/js/42.66bb07f8.js"><link rel="prefetch" href="/assets/js/43.636bf8a8.js"><link rel="prefetch" href="/assets/js/44.b341b996.js"><link rel="prefetch" href="/assets/js/45.d885e19e.js"><link rel="prefetch" href="/assets/js/46.7e4d0e2f.js"><link rel="prefetch" href="/assets/js/47.3bc4cde3.js"><link rel="prefetch" href="/assets/js/48.4ee9fba2.js"><link rel="prefetch" href="/assets/js/49.14783870.js"><link rel="prefetch" href="/assets/js/5.d1da013e.js"><link rel="prefetch" href="/assets/js/50.13c266ab.js"><link rel="prefetch" href="/assets/js/51.4318da19.js"><link rel="prefetch" href="/assets/js/52.7c9cc18f.js"><link rel="prefetch" href="/assets/js/53.378b5732.js"><link rel="prefetch" href="/assets/js/54.e47e03a7.js"><link rel="prefetch" href="/assets/js/55.ee80e16b.js"><link rel="prefetch" href="/assets/js/56.e14027f4.js"><link rel="prefetch" href="/assets/js/57.b3cb8ffb.js"><link rel="prefetch" href="/assets/js/58.eb09f34e.js"><link rel="prefetch" href="/assets/js/59.a537c130.js"><link rel="prefetch" href="/assets/js/6.9bdf2d86.js"><link rel="prefetch" href="/assets/js/60.25c48265.js"><link rel="prefetch" href="/assets/js/61.8653aa8c.js"><link rel="prefetch" href="/assets/js/62.69bb406d.js"><link rel="prefetch" href="/assets/js/63.4e7c77ba.js"><link rel="prefetch" href="/assets/js/64.ecda83e6.js"><link rel="prefetch" href="/assets/js/65.55a0ff6e.js"><link rel="prefetch" href="/assets/js/66.ed942689.js"><link rel="prefetch" href="/assets/js/67.6f7c9f8c.js"><link rel="prefetch" href="/assets/js/68.006a7e36.js"><link rel="prefetch" href="/assets/js/69.574000ec.js"><link rel="prefetch" href="/assets/js/7.9ac2367b.js"><link rel="prefetch" href="/assets/js/70.e3b758e6.js"><link rel="prefetch" href="/assets/js/71.4d8bdcb1.js"><link rel="prefetch" href="/assets/js/72.c2526cec.js"><link rel="prefetch" href="/assets/js/73.d791feee.js"><link rel="prefetch" href="/assets/js/74.5973a4fb.js"><link rel="prefetch" href="/assets/js/75.69a97303.js"><link rel="prefetch" href="/assets/js/76.6241dd05.js"><link rel="prefetch" href="/assets/js/77.cc95848f.js"><link rel="prefetch" href="/assets/js/78.bf5853c2.js"><link rel="prefetch" href="/assets/js/79.6ca3cd68.js"><link rel="prefetch" href="/assets/js/8.6b13a443.js"><link rel="prefetch" href="/assets/js/80.db3dafc8.js"><link rel="prefetch" href="/assets/js/81.c48160c5.js"><link rel="prefetch" href="/assets/js/82.8c1c51fe.js"><link rel="prefetch" href="/assets/js/83.76256fe7.js"><link rel="prefetch" href="/assets/js/84.ba6c380e.js"><link rel="prefetch" href="/assets/js/85.71c3233e.js"><link rel="prefetch" href="/assets/js/86.fe0ed2a2.js"><link rel="prefetch" href="/assets/js/87.d7dca667.js"><link rel="prefetch" href="/assets/js/88.d7051ae9.js"><link rel="prefetch" href="/assets/js/89.ceed231e.js"><link rel="prefetch" href="/assets/js/90.cb5b9f7e.js"><link rel="prefetch" href="/assets/js/91.186b87b4.js"><link rel="prefetch" href="/assets/js/92.09574fb8.js"><link rel="prefetch" href="/assets/js/93.d159420a.js"><link rel="prefetch" href="/assets/js/94.59ad6229.js"><link rel="prefetch" href="/assets/js/95.06d1a88d.js"><link rel="prefetch" href="/assets/js/96.8ac1aaf0.js"><link rel="prefetch" href="/assets/js/97.b6ad2632.js"><link rel="prefetch" href="/assets/js/98.9157217b.js"><link rel="prefetch" href="/assets/js/99.c25b229f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ef35a4d2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>How YOU can create reusable packages for .NET Core using VS Code, C# and NuGet</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/dotnet-nuget.html#resources" class="sidebar-link">Resources</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/dotnet-nuget.html#why-create-a-package" class="sidebar-link">Why create a package</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/dotnet-nuget.html#creating-a-library" class="sidebar-link">Creating a library</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/dotnet-nuget.html#add-some-code-and-tests" class="sidebar-link">Add some code and tests</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/dotnet-nuget.html#create-a-nuget-package" class="sidebar-link">Create a NuGet package</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-nuget.html#point-out-the-local-source" class="sidebar-link">Point out the local source</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-nuget.html#add-the-package" class="sidebar-link">Add the package</a></li></ul></li><li><a href="/pages/dotnet-nuget.html#working-with-different-versions" class="sidebar-link">Working with different versions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-nuget.html#upgrading" class="sidebar-link">Upgrading</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-nuget.html#managing-versions" class="sidebar-link">Managing versions</a></li></ul></li><li><a href="/pages/dotnet-nuget.html#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p># How YOU can create reusable packages for .NET Core using VS Code, C# and NuGet</p> <p>Follow me on <a href="https://twitter.com/chris_noring" target="_blank" rel="noopener noreferrer">Twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, happy to take your suggestions on topics or improvements /Chris</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/5duwlmqabe98ty5tz61w.jpg" alt=""></p> <blockquote><p>Creating a reusable package of code is great. It allows you to be faster up and running next time you are about to build something. It can also help your colleagues or why not the entire planet if you upload your package to a publically available repository.</p></blockquote> <p>For .NET (including .NET Core), the Microsoft-supported mechanism for sharing code is NuGet, which defines how packages for .NET are created, hosted, and consumed.</p> <p>So NuGet is an open-source package manager designed for the Microsoft development platform and was introduced in 2010.</p> <blockquote><p>Sweet, is there a lot of packages somewhere out there ready for me to use?</p></blockquote> <p>Yes, they all reside here:</p> <blockquote><p>https://www.nuget.org/</p></blockquote> <p>You can also add the package to your project through a simple command in the terminal or using a UI if you have a full-blown IDE like Visual Studio, for example.</p> <p>Let's learn how to create such a package, a so-called <em>nuget</em> for .NET Core, using VS Code. Let's also get it up there at <code>https://www.nuget.org</code> so everyone else can enjoy it as well.</p> <p>In this article we are looking to go through the following:</p> <ul><li><strong>Why</strong> create a package. It's important to know why we are creating a package as opposed to just creating a library for example.</li> <li><strong>Creating</strong> a library, here we will create a library, add some code and some tests. You should always test to your code.</li> <li><strong>NuGet</strong> package creation, here we will create a NuGet by using a terminal command</li> <li><strong>Install</strong> your package locally, we want to ensure that our package works locally. We can easily do that by installing it to one of our existing projects.</li> <li><strong>Publishing</strong> your package to NuGet repository for anyone to try out. We will need to get some credentials to NuGet to be able to do this step but then it's literally just one command.</li></ul> <h2 id="resources"><a href="#resources" aria-hidden="true" class="header-anchor">#</a> Resources</h2> <p>Here are some important resources you might need to further extend your knowledge on .NET Core.</p> <ul><li><p><a href="https://docs.microsoft.com/nuget/what-is-nuget?wt.mc_id=academic-0000-chnoring" target="_blank" rel="noopener noreferrer">NuGet overview docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://docs.microsoft.com/nuget/create-packages/creating-a-package-dotnet-cli?wt.mc_id=academic-0000-chnoring" target="_blank" rel="noopener noreferrer">Creating a package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://docs.microsoft.com/nuget/nuget-org/publish-a-package?wt.mc_id=academic-0000-chnoring" target="_blank" rel="noopener noreferrer">Publishing a package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://docs.microsoft.com/dotnet/core/tools/dotnet-add-package?wt.mc_id=academic-0000-chnoring" target="_blank" rel="noopener noreferrer">Adding NuGet package to your project<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.nuget.org/" target="_blank" rel="noopener noreferrer">nuget.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://docs.microsoft.com/dotnet/core/tutorials/with-visual-studio-code?wt.mc_id=academic-0000-chnoring" target="_blank" rel="noopener noreferrer">Creating a .NET Core project<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://docs.microsoft.com/dotnet/core/tools/?tabs=netcore2x&amp;wt.mc_id=academic-0000-chnoring" target="_blank" rel="noopener noreferrer">.NET Core CLI overview<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://dev.to/dotnet/how-you-can-get-started-with-net-core-and-c-in-vs-code-30gc" target="_blank" rel="noopener noreferrer">An article on starting with .NET Core and VS Code, it shows lib, console, test projects, compiling, running and testing<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h2 id="why-create-a-package"><a href="#why-create-a-package" aria-hidden="true" class="header-anchor">#</a> Why create a package</h2> <p>Ok, so you want a package. Do you know why you want one?
A lot of the times creating something reusable means creating a library. You might be a program vendor or you might be an OSS developer though or you got another good reason. Using NuGet to distribute your code means that anyone on the planet can use your code.</p> <p>Are you:</p> <ul><li>intellectually curious how this is done in .NET Core?</li> <li>do you want to create something reusable that you want anyone to access and install?</li></ul> <p>If the answer is yes to any of the above you seem ready to learn.</p> <blockquote><p>Stay with me young Padawan, we are about to learn a lot.</p></blockquote> <h2 id="creating-a-library"><a href="#creating-a-library" aria-hidden="true" class="header-anchor">#</a> Creating a library</h2> <p>The package is meant to be something reusable, like a library that we can add a reference to in our existing project. Because we are using .NET Core for this, we will be using the terminal. We will do the following:</p> <ol><li><strong>Create</strong> a solution directory for our solution to live in</li> <li><strong>Create</strong> the solution file itself</li> <li><strong>Create</strong> a class library type project</li> <li><strong>Add</strong> the class library reference to the solution</li></ol> <p><strong>Create a solution directory</strong>
First, let's create a directory, remember, you can name this whatever you want.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mkdir example
cd example
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Create a solution file</strong>
Thereafter we will scaffold a solution file by using the following command:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet new sln
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>It should say something like so:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/x89s29y45528udhc3551.png" alt=""></p> <p><strong>Create a class library</strong>
Next we will create the class library. This is where our reusable code will live.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet new classlib -o library
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://thepracticaldev.s3.amazonaws.com/i/tjwvbpx2pz1mkwa8xjyh.png" alt=""></p> <p><strong>Add the class library to the solution</strong>
We should add this class library to the solution. This will give us the ability to build everything at once among other benefits.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet add sln add library/library.csproj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This should produce the following:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/vq8rru6r4ggmnh2r1q37.png" alt=""></p> <h2 id="add-some-code-and-tests"><a href="#add-some-code-and-tests" aria-hidden="true" class="header-anchor">#</a> Add some code and tests</h2> <p>Ok, we have a solution, a class library, but we are missing the meat, the code we want the world to use.</p> <p>Let's open up our solution and add some code.</p> <p>Rename our <code>Class1.cs</code> file to <code>Start.cs</code>. Now let's replace whatever code is in there with this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>
<span class="token keyword">namespace</span> library
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Start</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>Behold, the most impressive calculator known to man. 😉</p> <p><strong>Adding tests</strong>
We need to have tests for this, cause we are professionals.</p> <p>Let's start by creating a test library</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet new xunit -o library.testing
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Next, we need to add a reference to our library project so we can test the code. So we type :</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet add library.testing/library.testing.csproj reference library/library.csproj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This should add a reference to our test project. Next let's author a test.</p> <p>Rename test file <code>UnitTest1.cs</code> to <code>Test.cs</code>. What you name doesn't matter, it's just nice if you give it a meaningful name.</p> <p>Ok, for the tests, replace your code with the following:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>
<span class="token comment">// Test.cs</span>

<span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> Xunit<span class="token punctuation">;</span>
<span class="token keyword">using</span> library<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> library<span class="token punctuation">.</span>testing
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token class-name">Fact</span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">TestingAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> actual <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">Equal</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> actual<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token class-name">Fact</span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">TestingSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> actual <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">Sub</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Assert<span class="token punctuation">.</span><span class="token function">Equal</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> actual<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>Next head to the terminal and type:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet test dotnet test library.testing/library.testing.csproj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>It should render in the following result:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/pjzk53gghernu9or9l71.png" alt=""></p> <p>Good, we are ready for turning this into a NuGet package now that our code looks like its working.</p> <h2 id="create-a-nuget-package"><a href="#create-a-nuget-package" aria-hidden="true" class="header-anchor">#</a> Create a NuGet package</h2> <p>We need to do the following to create a NuGet package:</p> <ol><li><strong>Add</strong> some meta information to the library project</li> <li><strong>Invoke</strong> the <code>pack</code> command, this will create the package</li></ol> <p><strong>Adding meta information</strong>
Now this is about adding meta data information to your project. Meta information are things like name, author, company and so on. You will need to add this as entry in the <code>library.csproj</code> file under the XML tag <code>PropertyGroup</code>. It can look like this:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TargetFramework</span><span class="token punctuation">&gt;</span></span>netcoreapp2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TargetFramework</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageId</span><span class="token punctuation">&gt;</span></span>math-chris<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PackageId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Version</span><span class="token punctuation">&gt;</span></span>1.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Authors</span><span class="token punctuation">&gt;</span></span>chris_noring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Authors</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Company</span><span class="token punctuation">&gt;</span></span>happy coder inc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Company</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The <code>PackageId</code> + <code>Version</code> will determine the name of your package. Next let's create our package. Let's navigate to our library directory and type:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd library
dotnet pack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://thepracticaldev.s3.amazonaws.com/i/3s11hgm3s94nu7xbb518.png" alt=""></p> <p>We can see from the above image that we got a package created in the <code>bin/Debug</code> folder called <code>math-chris.1.0.0.nupkg</code>.</p> <p>We will use this information in our next section where we learn to install the package locally.</p> <p>## Install your package locally
Let's start with the WHY? We need to test the package locally before we can push it nuget.org, that's just using sound judgment, we don't want to push anything broken.</p> <p>So how do we do this? Well, we need a project to test it on. Let's scaffold a console application</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet new console -o app
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Let's add it to the solution:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet sln add app/app.csproj 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Next, lets now install our package. We do this in two steps:</p> <ol><li><p><strong>Point out</strong> the local source, this is about instructing the target project where this package can be found on your computer, so if it fails to find it on NuGet it knows to look at your computer next.</p></li> <li><p><strong>Add the package</strong>, this will install the package in the target project</p></li></ol> <h3 id="point-out-the-local-source"><a href="#point-out-the-local-source" aria-hidden="true" class="header-anchor">#</a> Point out the local source</h3> <p>We need to go into the target projects <code>.csproj</code> file. We want to test out our NuGet package on our console app called <code>app</code> so we open up <code>app.csproj</code> and under <code>PropertyGroup</code> we add a tag called <code>RestoreSources</code>. Here we point out both the path to our local NuGet package and the NuGet stream. It should look like so:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RestoreSources</span><span class="token punctuation">&gt;</span></span>$(RestoreSources);absolute-path-to-my-solution/library/bin/Debug;https://api.nuget.org/v3/index.json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RestoreSources</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You need to replace <code>absolute-path-to-my-solution/library/bin/Debug</code> above with the absolute path to where your package is located.</p> <h3 id="add-the-package"><a href="#add-the-package" aria-hidden="true" class="header-anchor">#</a> Add the package</h3> <p>Now that we pointed out where NuGet can find our package we are ready to install it.</p> <p>This is as simple as calling (from the solution root):</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet add app package math-chris
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>math-chris</code> is the name of the package we give it in the meta tags.</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/23fy8agsl901akce400i.png" alt=""></p> <p>Inspecting our <code>app.csproj</code> file we can see that we now get the following entry:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>math-chris<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1.0.1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Now lets try out our installed package. Change <code>Program.cs</code> in your app project to the following code:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> library<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> app
<span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">Program</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World! {0}&quot;</span><span class="token punctuation">,</span> start<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="working-with-different-versions"><a href="#working-with-different-versions" aria-hidden="true" class="header-anchor">#</a> Working with different versions</h2> <p>As an author of a NuGet package you probably want to update your library sooner or later and add more functionality or correct bugs. Depending on what kind of update you do - you should increment the version number differently. Let's look at the version numbers in general and talk about a concept <em>semantic versioning</em>:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1.0.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The leftmost value is called a major version. This should only be incremented if we do really <em>major</em> changes, including breaking the interface like, removing or renaming code. Updating it means we go from <code>1.0.0</code> to <code>2.0.0</code>.</p> <p>The middle value is called a minor version. You use this when you do things like adding more functionality, like adding more methods. Updating it means we go from <code>1.0.0</code> to <code>1.1.0</code>.</p> <p>The rightmost value is called a patch version. You should use this to do small changes. Those types of changes are usually because you want to fix an error, i.e <em>patching</em> the code. Updating it means we go from <code>1.0.0</code> to <code>1.0.1</code></p> <h3 id="upgrading"><a href="#upgrading" aria-hidden="true" class="header-anchor">#</a> Upgrading</h3> <p>Ok, so you've decided on upgrading your package. That means that you will need to take the following steps:</p> <ol><li><strong>Add</strong> new functions to our library project</li> <li><strong>Increment</strong> the minor version of the package</li> <li><strong>Generate</strong> a new NuGet package from our library project</li> <li><strong>Install</strong> the new version on our console project <code>app</code></li></ol> <p><strong>Add new functions</strong></p> <p>Let's go to our library project. We will add code to handle multiplications, like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Multiply</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>the code in <code>Start.cs</code> should now look like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> library
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Start</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Multiply</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>Increment the minor version</strong></p> <p>Open up <code>library.csproj</code> and find the XML tag <code>Version</code> and make sure it looks like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token operator">&lt;</span>Version<span class="token operator">&gt;</span><span class="token number">1.1</span><span class="token number">.1</span><span class="token operator">&lt;</span><span class="token operator">/</span>Version<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Generate a new NuGet package</strong></p> <p>For this, we will navigate ourselves to the library directory and run <code>dotnet pack</code>.</p> <p>This should create the file <code>math-chris.1.1.1.nupkg</code></p> <p><strong>Install the new version</strong></p> <p>To install the new version we need to open up our <code>app.csproj</code> and increment the version. We need to find the XML tag <code>PackageReference</code> and change the attribute <code>Version</code> to <code>1.1.1</code> like so:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>math-chris<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1.1.1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Thereafter we can run <code>dotnet restore</code> in our app directory.</p> <p>Your terminal should say something like this:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Installing math-chris 1.1.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This means that you got the new code. Let's ensure that is the case by testing it out. Remember, you should have access to the <code>Multiply()</code> function. Open up the <code>Program.cs</code> file and change the code to the following:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> library<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> app
<span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">Program</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> result <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">Multiply</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World! {0}&quot;</span><span class="token punctuation">,</span> start<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="managing-versions"><a href="#managing-versions" aria-hidden="true" class="header-anchor">#</a> Managing versions</h3> <p>Sometimes you have the following scenario:</p> <ul><li><strong>Fix a mistake</strong>, You produced a package but realize you made a mistake in the code that you want to fix AND you want to stay on the same version</li> <li><strong>Go to a lower version</strong>, You want to move back to a previous version of the package</li></ul> <p>In both these cases, you need to deal with your local NuGet cache. The way it currently works is that you can always increment a version and do a <code>dotnet restore</code>. Going back means you need to clear the cache first, as it would otherwise hold on to the <em>newest</em> version. You do that by the following command:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet nuget locals all --clear
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Now you can change <code>Version</code> attribute to a lower one in <code>app.csproj</code> and go to the terminal and your app directory and do <code>dotnet restore</code>. Your code, in <code>Program.cs</code>, should now be yelling at you saying you don't have a <code>Multiply()</code> method and that's a GOOD thing, it means the whole process is working as it should.</p> <p>Remember, you can always change the <code>Version</code> back to <code>1.1.1</code> do a <code>dotnet restore</code> and your code will work fine again 😃</p> <p>## Publishing your package</p> <p>Ok, we spent a lot of time talking about testing your package locally. As interesting, and important, as that is, we want to publish it to the great NuGet repository in the Sky nuget.org.</p> <blockquote><p>How do we do that?</p></blockquote> <p>you need the following:</p> <ol><li>NuGet credentials</li> <li>Invoke the <code>publish</code> command</li></ol> <p><strong>Create an account</strong></p> <p>This is a pretty quick thing. Go to nuget.org and enter an email and username and password. Once all that is done you need to create a key. You do that by clicking at your username, at the top right corner of the page. Then you select <code>API Keys</code>.</p> <p>On the page click the <code>+ Create</code> and fill in <code>Key Name</code> and on <code>Selected Scopes</code> check <code>Push</code>. On the field <code>Glob Pattern</code> just enter a <code>*</code>. The last step is clicking the blue <code>Create</code> button. Scroll down the manage now and find the <code>Manage</code> section. Your new key should exist here. Press the  <code>Copy</code> button and your key should now be in your clipboard.</p> <p><strong>Invoke the publish command</strong></p> <p>Now we have come to the fun part. We've built our package. We've obtained a key and we are one command away from pushing our package to nuget.org.</p> <p>The command we need looks like this:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet nuget push [package name].nupkg -k [API key] -s https://api.nuget.org/v3/index.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Place yourself in the <code>library/bin/Debug</code> directory, replace with your values above and run the command in the terminal.</p> <p>You should get a response looking like this:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/2ehyj4gswnr10sc8dn2q.png" alt=""></p> <p>You should now find your package at:</p> <blockquote><p>https://www.nuget.org/packages/math-chris/1.1.2</p></blockquote> <p>Remember though. Your package doesn't do much. At least improve it from this point on. If it's useful for you it's gonna be useful for someone else 😃</p> <h2 id="summary"><a href="#summary" aria-hidden="true" class="header-anchor">#</a> Summary</h2> <p>We've come to the final stop. Time to recap what we've learned. We've managed to learn:</p> <ul><li>Why a package might be a good thing to create</li> <li>How to create a package</li> <li>How to test the package locally</li> <li>How to push the package to nuget.org</li></ul> <p>Hopefully, this will make you inspired to create packages of your own 😃</p> <p>Go, go out there and create, there is no try</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/emlq2cz45ce22g72myet.gif" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.db3c62db.js" defer></script><script src="/assets/js/9.454b5262.js" defer></script><script src="/assets/js/4.eac68367.js" defer></script><script src="/assets/js/159.52b7d653.js" defer></script>
  </body>
</html>
